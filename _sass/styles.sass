// general

body
  -webkit-text-size-adjust: 100%
  margin: 0
  background-color: $background
  position: relative

html, body
  min-height: 100%

p, li
  line-height: 1.5em


ul, ol
  list-style-position: outside
  list-style-type: square
  padding: 0 1.2em


#site-build-stats
  margin-bottom: -2em
  position: absolute
  right: 1em
  bottom: 1em
  color: #777
  opacity: 0
  @include transition(opacity 0.1s ease-in-out 0.1s)
  &:hover
    opacity: 1
  & > h6
    margin: 0
    font-size: 0.8em


// clearfix
%clearfix
  &:after
    content: ""
    display: table
    clear: both



// sizing
$mobile: new-breakpoint(min-width 0 4)
$tablet: new-breakpoint(min-width 760px 8)
$desktop: new-breakpoint(min-width 1050px 12)


// @include media($mobile)
// @include media($tablet)
// @include media($desktop)


div.content
  @include outer-container
  margin-bottom: 2em
  min-height: 100%

div.header
  @include outer-container

article.blog-post, .page
  padding: 1em
  @include media($mobile)
    @include span-columns(4)
  @include media($tablet)
    @include span-columns(6)
    @include shift(1)
  @include media($desktop)
    @include span-columns(7)
    @include shift(2)

section.frontpage-main-header
  @include media($mobile)
    @include span-columns(4)
    padding: 1em
    & > dl
      @include span-columns(3 of 4)
  @include media($tablet)
    @include span-columns(8)
    padding: 2em 1em
    & > dl
      @include span-columns(6 of 8)
      @include shift(1)
  @include media($desktop)
    @include span-columns(12)
    padding: 4em 1em
    & > dl
      @include span-columns(9 of 12)
      @include shift(2)

section.frontpage
  @include media($mobile)
    @include span-columns(4)
    &.first
      padding-top: 1em
  @include media($tablet)
    @include span-columns(6)
    @include shift(1)
    &.first
      padding-top: 2em
  @include media($desktop)
    @include span-columns(8)
    @include shift(2)
    &.first
      padding-top: 4em

section.site-header
  @include media($mobile)
    @include span-columns(4)
    & > header
      @include span-columns(5 of 8)
    & > aside
      @include span-columns(3 of 8)
  @include media($tablet)
    @include span-columns(8)
    & > header
      @include span-columns(6 of 8)  
    & > aside
      @include span-columns(2 of 8)
  @include media($desktop)
    @include span-columns(12)
    & > header
      @include span-columns(8 of 12)
      //@include shift(1)
    & > aside
      @include span-columns(4 of 12)
  aside
    @include omega






div.header-background
  background-color: $header-background

// blog posts
article.blog-post, .page
  header
    .title
      font-size: 2em
  img
    display: block
    max-width: 100%
    margin-left: auto
    margin-right: auto


p.tags, span.tags
  color: $subtitle-color

section.site-header
  background-color: $header-background
  // box-shadow: inset 0 -3em 2em -3em #666
  header
    padding: 1em
  aside
    padding: 1em


// main page
section.frontpage-main-header
  background-color: $header-background
  margin: 0
  color: $header-text-color
  // text-shadow: 0 0 0.2em #333
  // box-shadow: 0 0 0.5em #000
  // box-shadow: inset 0 -3em 9em -6em #000
  dl
    dt
      font-weight: 300
      margin: 0
    dd
      font-weight: 300
      font-size: 100%
      letter-spacing: normal
      margin: 0

section.frontpage
  padding: 0 1em

div.frontpage-wrapper
  @include fill-parent


$visible-grid: true



// typography
body
  font: 100% $font-stack
  font-weight: 400

section.frontpage-main-header, .frontpage
  @include media($mobile)
    dl
      dt
        font-size: 150%
  @include media($tablet)
    dl
      dt
        font-size: 225%
  @include media($desktop)
    dl
      dt
        font-size: 300%

section.site-header
  color: $header-text-color
  a
    color: $header-text-color
  h4
    margin: 0
  aside
    text-align: right


section.frontpage
  h1
    margin: 0.2em 0

h1
  font-weight: 300
  font-size: 2em

h2, h3, h4, h5, h6
  font-weight: 300

h2
  font-size: 1.6em

h3
  font-size: 1.4em

h4
  font-size: 1.3em

h5
  font-size: 1.2em

h6
  font-size: 1.1em

a
  text-decoration: none
  color: $link-color
  @include transition(color 0.1s ease)
  &:hover
    color: $link-hover-color

sup, sub
  vertical-align: baseline
  position: relative
  top: -0.4em

sub
  top: 0.4em




// blog post header links
article.blog-post > section
  .header-link
    position: absolute
    // @include media($mobile)
    //   right: 1em
    //   opacity: 1
    // @include media($tablet)
    //   left: -1.2em
    //   opacity: 0
    // @include media($desktop)
    //   left: -1.2em
    //   opacity: 0
    opacity: 0
    @include media($mobile)
      left: -2em
    @include media($tablet)
      left: -1.2em
    @include media($desktop)
      left: -1.2em

    @include transition(opacity 0.2s ease-in-out 0.1s)

  h2, h3, h4, h5, h6
    // @include media($mobile)
    // @include media($tablet)
    //   position: relative
    // @include media($desktop)
    //   position: relative
    position: relative

  h2:hover .header-link,
  h3:hover .header-link,
  h4:hover .header-link,
  h5:hover .header-link,
  h6:hover .header-link
    opacity: 1




// cv stuff
div#publicationList
  @include fill-parent

div.cvItem
  @include fill-parent
  background-color: $cv-item-background
  margin: 1em 0
  border: 1px $cv-item-border-color solid
  position: relative

  .pubType
    color: $cv-item-type-color
    padding: 10px

  .pubTitle, .pubAssets
    padding: 0
    margin: 10px

  .pubJournal, .pubAuthor
    padding: 0
    margin: 10px 6em 10px 10px

  .pubAssets
    float: right
    position: absolute
    bottom: -0.25em
    right: 0
    @extend %clearfix

    a
      padding-left: 0.5em


div.proceedings
  @extend div.cvItem
  .pubType
    background-color: $cv-item-proceedings-background

div.peer-reviewed
  @extend div.cvItem
  .pubType
    background-color: $cv-item-peer-reviewed-background

.switch
  background-color: $switch-unselected-background
  border: 1px $cv-item-border-color solid
  margin: 1em 0
  @extend %clearfix

.switch-label
  padding: 10px
  cursor: pointer
  float: left
  text-align: center
  background-color: $switch-unselected-background
  @include transition(background-color 0.1s ease)
  &:hover
    background-color: $switch-hover-background

.switch-input
  display: none

.switch-input:checked + .switch-label
  color: $switch-selected-text
  background-color: $switch-selected-background

#authorButtons .switch-label
  width: 50%

#typeButtons .switch-label
  @include media($mobile)
    width: 50%
  @include media($tablet)
    width: 25%





